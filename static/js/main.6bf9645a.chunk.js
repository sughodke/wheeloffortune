(this.webpackJsonpwheeloffortune=this.webpackJsonpwheeloffortune||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(8),i=n.n(o),c=(n(13),n(3)),s=n(2),u=n(0),l=s.Engine.create(),d=s.Render.create({element:document.body,engine:l,options:{showAngleIndicator:!1,wireframes:!1}}),f=a.a.createContext({engine:l,render:d}),h=function(e){var t=e.children;e.initialContext;return Object(r.useEffect)((function(){s.Render.lookAt(d,{min:{x:-100,y:-125},max:{x:100,y:0}}),s.Render.run(d);var e=s.Runner.create();s.Runner.run(e,l)}),[l]),Object(u.jsx)(f.Provider,{value:{engine:l,render:d},children:t})},b=n(4),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(r.useContext)(f),o=a.engine,i=Object(r.useState)([]),u=Object(c.a)(i,2),l=u[0],d=u[1],h=t?r.useEffect:r.useLayoutEffect;return h((function(){var t=e();s.Composite.add(o.world,t),d(t)}),[o].concat(Object(b.a)(n))),l},v=function(e){var t=e.outerRadius;return j((function(){var e=s.Bodies.trapezoid(0,-1.1*t,10,40,.85,{angle:Math.PI,friction:.4,slop:1});return[e,s.Constraint.create({pointA:{x:0,y:-1.1*t},bodyB:e,length:0}),s.Constraint.create({pointA:{x:-20,y:-1.05*t},bodyB:e,pointB:{x:0,y:-15},stiffness:.01,damping:.5,render:{visible:!1}}),s.Constraint.create({pointA:{x:20,y:-1.05*t},bodyB:e,pointB:{x:0,y:-15},stiffness:.01,damping:.5,render:{visible:!1}})]}),!0),Object(u.jsx)(u.Fragment,{})},g=function(e){var t=e.wheelBase,n=e.outerRadius,r=e.numPegs,a=e.pegRadius,o=void 0===a?4:a;return j((function(){if(!t)return[];var e=n-10,a=r/2,i=Array(r).fill(0).map((function(t,n){return{x:e*Math.sin(n*Math.PI/a),y:e*Math.cos(n*Math.PI/a)}})),c=i.map((function(e){return s.Bodies.circle(e.x,e.y,o,{mass:2,friction:.4,slop:1},6)}));c.map((function(e){return s.Body.setInertia(e,1/0)}));var u=c.map((function(e,n){return s.Constraint.create({pointB:i[n],bodyA:e,bodyB:t,length:0})}));return[].concat(Object(b.a)(c),Object(b.a)(u))}),!1,[t]),Object(u.jsx)(u.Fragment,{})},x=function(){return Object(r.useContext)(f)};CanvasRenderingContext2D.prototype.fillTextCircle=function(e,t,n,r,a){var o=this;e=Array.from(e);var i=2*Math.PI/e.length;this.save(),this.translate(t,n),this.rotate(a);var c={};return e.forEach((function(e,t){o.save();var n=t*i;o.rotate(n),o.fillText(e,0,-r),o.restore(),c[n]=e})),this.restore(),c};var O=function(e){var t=e.numPegs,n=void 0===t?16:t,a=e.outerRadius,o=void 0===a?100:a,i=e.onLoad,l=e.onLanded,d=e.onSpinning,f=x().render,h=Object(r.useState)({}),O=Object(c.a)(h,2),p=O[0],m=O[1];Object(r.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=document.createElement("canvas");a.width=a.height=2*t;var o=a.getContext("2d");function i(){return"rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+" )"}var c=2*Math.PI/e;Object(b.a)(Array(e)).forEach((function(e,a){o.fillStyle=i(),o.beginPath(),o.moveTo(n,r),o.arc(n,r,t,c*(a-1),c*a),o.lineTo(n,r),o.closePath(),o.fill()})),o.font="15px Arial",o.textAlign="left";var s=o.fillTextCircle(" \ud83d\ude03\ud83d\ude04\ud83d\ude01\ud83d\ude06\ud83d\ude05\ud83e\udd23\ud83d\ude02\ud83d\ude42\ud83d\ude43\ud83d\ude09\ud83d\ude0a\ud83d\ude07\ud83e\udd70\ud83d\ude0d\ud83e\udd29",n,r,t-20,Math.PI/e/2),u=new Image;return u.src=a.toDataURL(),[u,s]}(n,o),t=Object(c.a)(e,2),r=t[0],a=t[1];f.textures.USER_DEFINED_1=r,m(a)}),[f]);var y=j((function(){var e=s.Bodies.circle(0,0,o,{collisionFilter:{group:-1,category:0,mask:0},render:{sprite:{texture:"USER_DEFINED_1"}}},n),t=s.Constraint.create({pointA:{x:0,y:0},bodyB:e,length:0});return i(e),[e,t]})),M=Object(c.a)(y,1)[0];return Object(r.useEffect)((function(){M&&setInterval((function(){var e,t=M.angle>0?M.angle%(2*Math.PI):M.angle%(-2*Math.PI)+2*Math.PI;d(t),Object.keys(p).sort().forEach((function(n){e=n<t?n:e})),l(p[e]),M.isSleeping&&l("\u2764\ufe0f")}),50)}),[M,p]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{numPegs:n,outerRadius:o,wheelBase:M}),Object(u.jsx)(v,{outerRadius:o})]})},p=function(){var e=x(),t=e.render,n=e.engine;return Object(r.useEffect)((function(){var e=s.Mouse.create(t.canvas),r=s.MouseConstraint.create(n,{mouse:e,constraint:{stiffness:.2,render:{visible:!0}}});s.Composite.add(n.world,r),t.mouse=e}),[t,n]),Object(u.jsx)(u.Fragment,{})},m=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),i=Object(c.a)(o,2),l=i[0],d=i[1],f=Object(r.useState)(null),b=Object(c.a)(f,2),j=b[0],v=b[1],g=Object(r.useCallback)((function(){s.Body.setAngularVelocity(j,j.angularVelocity+3*Math.PI/100)}),[j]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:g,children:"spin the wheel!"}),Object(u.jsx)("label",{children:"Angle: "}),Object(u.jsx)("span",{children:n.toFixed(1)}),Object(u.jsx)("label",{children:"Winner: "}),Object(u.jsx)("span",{children:l}),Object(u.jsxs)(h,{children:[Object(u.jsx)(O,{onLoad:v,onLanded:d,onSpinning:a}),Object(u.jsx)(p,{})]})]})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.6bf9645a.chunk.js.map