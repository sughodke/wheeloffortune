(this.webpackJsonpwheeloffortune=this.webpackJsonpwheeloffortune||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(8),c=n.n(i),a=n(6),s=n(1),u=n(0),d=s.Engine.create(),l=s.Render.create({element:document.body,engine:d,options:{showAngleIndicator:!1,wireframes:!1}}),f=o.a.createContext({engine:d,render:l}),j=function(e){var t=e.children;e.initialContext;return Object(r.useEffect)((function(){s.Render.lookAt(l,{min:{x:-100,y:-125},max:{x:100,y:0}}),s.Render.run(l);var e=s.Runner.create();s.Runner.run(e,d)}),[d]),Object(u.jsx)(f.Provider,{value:{engine:d,render:l},children:t})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.useContext)(f),o=n.engine,i=t?r.useEffect:r.useLayoutEffect;i((function(){s.Composite.add(o.world,e)}),[o])},h=function(e){var t=e.outerRadius,n=s.Bodies.trapezoid(0,-1.1*t,10,40,.85,{angle:Math.PI,friction:.4,slop:1}),r=s.Constraint.create({pointA:{x:0,y:-1.1*t},bodyB:n,length:0}),o=s.Constraint.create({pointA:{x:-20,y:-1.05*t},bodyB:n,pointB:{x:0,y:-15},stiffness:.01,damping:.5}),i=s.Constraint.create({pointA:{x:20,y:-1.05*t},bodyB:n,pointB:{x:0,y:-15},stiffness:.01,damping:.5});return b([n,r,o,i],!0),Object(u.jsx)(u.Fragment,{})},x=n(7),g=function(e){var t=e.wheelBase,n=e.outerRadius,r=e.numPegs,o=e.pegRadius,i=void 0===o?4:o,c=n-10,a=r/2,d=Array(r).fill(0).map((function(e,t){return{x:c*Math.sin(t*Math.PI/a+Math.PI/a/2),y:c*Math.cos(t*Math.PI/a+Math.PI/a/2)}})),l=d.map((function(e){return s.Bodies.circle(e.x,e.y,i,{mass:2,friction:.4,slop:1},6)}));l.map((function(e){return s.Body.setInertia(e,1/0)}));var f=l.map((function(e,n){return s.Constraint.create({pointB:d[n],bodyA:e,bodyB:t,length:0})}));return b([].concat(Object(x.a)(l),Object(x.a)(f))),Object(u.jsx)(u.Fragment,{})},O=function(e){var t=e.numPegs,n=void 0===t?16:t,o=e.outerRadius,i=void 0===o?100:o,c=e.onLoad,a=s.Bodies.circle(0,0,i,{collisionFilter:{group:-1,category:0,mask:0},render:{fillStyle:"#5f5f7e"}},n),d=s.Constraint.create({pointA:{x:0,y:0},bodyB:a,length:0});return Object(r.useEffect)((function(){c(a)}),[]),b([a,d]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{numPegs:n,outerRadius:i,wheelBase:a}),Object(u.jsx)(h,{outerRadius:i})]})},p=function(){var e=Object(r.useContext)(f),t=e.render,n=e.engine;return Object(r.useEffect)((function(){var e=s.Mouse.create(t.canvas),r=s.MouseConstraint.create(n,{mouse:e,constraint:{stiffness:.2,render:{visible:!0}}});s.Composite.add(n.world,r),t.mouse=e}),[t,n]),Object(u.jsx)(u.Fragment,{})},m=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(null),c=Object(a.a)(i,2),d=c[0],l=c[1],f=Object(r.useCallback)((function(){s.Body.setAngularVelocity(d,d.angularVelocity+3*Math.PI/100)}),[d]);return Object(r.useEffect)((function(){d&&setInterval((function(){var e=180/Math.PI*d.angle%360;o(e.toFixed(1))}),50)}),[d]),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:f,children:"spin the wheel!"}),Object(u.jsx)("label",{children:"Angle: "}),Object(u.jsx)("span",{children:n}),Object(u.jsxs)(j,{children:[Object(u.jsx)(O,{onLoad:l}),Object(u.jsx)(p,{})]})]})};c.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c489ae61.chunk.js.map